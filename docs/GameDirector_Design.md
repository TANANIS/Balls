# Game Director & Pressure System Design

This document describes the **pressure-driven enemy spawning system** used in this project.
It defines how pressure, spawn pacing, enemy composition, and bosses are coordinated through data-driven rules instead of hard-coded logic.

?祆?瑼牧?撠????澆??鈭箇??頂蝯晞?蝟餌絞??鞈?銵券?????撖急香?函?撘Ⅳ銝哨?靘?嗅???憟芰蝯?????隞嗚?
## Core Design Principles / ?詨?閮剛???

- Pressure is a **world pacing signal**, not a player stat.
  憯??潔誨銵其???憟????拙振???- Enemies do NOT read pressure directly.
  ?萎犖?祇?銝?湔摮?憯??潦?- All spawn behavior is driven by `SpawnPlan` snapshots generated by the Director.
  ??????箏?? Director ?Ｙ???SpawnPlan ?批??- Game balance is achieved by **composition and pacing**, not raw stat scaling.
  ?撟唾﹛靘?蝭憟?蝯?嚗??桃??詨潸?嫘?
## Data Tables Overview / 鞈?銵函蜇閬?
| Table Name | Purpose | ?券?|
|----------|--------|------|
| EnemyDefinitions | Enemy archetypes and base roles | 摰儔?芰蝔桅????脣?雿?|
| PressureTierRules | Pressure tiers and pacing rules | 憯??挾????憟?|
| TierEnemyWeights | Enemy distribution per tier | ??畾菜芰甈? |
| PackTemplates | Curated enemy packs | ?身?芰蝯?璅⊥ |
| BossSchedule | Elite / Boss trigger rules | 擐????梯孛?潸???|

## EnemyDefinitions

Defines all enemy archetypes.
Defines *what an enemy is*, not *when it spawns*.

摰儔??鈭箏?????餈啜隞暻潦?銝?餈啜???整?
| Field | Description (EN) | 隤芣?嚗葉?? |
|-----|------------------|-------------|
| id | Unique enemy identifier | ?芰?臭?霅 ID |
| role | Combat role (Swarm / Charger / Tank) | ?圈洛摰? |
| cost | Spawn budget cost | ????瘨?|
| min_tier | Earliest pressure tier | ??拙?曉??挾 |
| tags | Behavioral tags | 銵璅惜 |

### Example

| id | role | cost | min_tier | notes |
|---|---|---|---|---|
| swarm_circle | Swarm | 1 | 0 | Space filler |
| charger_triangle | Charger | 3 | 1 | Burst pressure |
| tank_square | Tank | 4 | 2 | Route blocker |

> ?辣撱箄降?芣璁艙??靘?摰撟唾﹛?詨潸??曉 `Data/*.csv` ??`Data/*.tres`??
## Pressure Tiers

Pressure is divided into **five tiers     **.
Each tier represents a different pacing philosophy.

憯??潸◤?鈭?畾蛛?瘥?畾萎誨銵其???銝??漲??
| Tier | Range | Design Intent | 閮剛??? |
|----|------|--------------|---------|
| 0 | 0??0 | Learning | ?飛????|
| 1 | 20??0 | Stable Pressure | 蝛拙?憯? |
| 2 | 40??0 | Control Slipping | ?舀?找???|
| 3 | 60??0 | Space Collapse | 蝛粹?鋡怠???|
| 4 | 80??00 | Breakdown | 撏拙???|

> Tier progression is continuous via pressure value, not wave count.
>
> Tier ?舐憯??潮???券莎????Ｘ瘜Ｘ活??
## Enemy Distribution Rules / ?芰??閬?

Enemy selection follows these rules:

?萎犖???萄儐隞乩???嚗?
1. Tier gating: enemies cannot appear before `min_tier`.
2. Budget-based selection instead of pure random.
3. Pack templates are preferred over raw random rolls.
4. Anti-streak logic prevents repeated identical spawns.

?踹???嚗?
- RNG ????賢?銝蝔?- ??蝒?粹?憯?- 蝭憟撩銋霈??
## Pack Templates

Pack templates define **intentional enemy groupings**.
They are used to shape combat rhythm instead of leaving it to randomness.

璅⊥?其?閮剛?蝭憟????臭漱蝯虫??詻?
Example:

- Swarm Blob: many weak enemies
- Charger Spike: single burst threat
- Tank Wall: space denial formation
- Pincer: multi-directional pressure

## Boss and Elite Strategy / 擐????梁???
Bosses are treated as **events**, not normal spawns.

擐?鋡怨??箔?隞塚???銝?祉??雿?
Progression:

1. Elite enemies (buffed variants)
2. MiniBoss (single milestone unit)
3. Full Boss (arena or event-based)

This allows gradual escalation without early overcommitment.

## ? Rules for Contributors / ????蝺?
- Do NOT read pressure value directly in Enemy scripts.
- Do NOT hard-code tier logic outside the Director.
- Modify balance via CSV/tres tables first.
- If behavior feels wrong, adjust pacing before stats.

??隞乩?閬?嚗誨銵刻身閮??
## Data Contract / 資料契約

Director data files live in `Data/Director/`:

- `EnemyDefinitions.csv`
- `PressureTierRules.csv`
- `TierEnemyWeights.csv`
- `PackTemplates.csv`
- `BossSchedule.csv`

### Parsing Notes

- `tags` and `composition` use `|` as the internal separator to avoid CSV quoting problems.
- `composition` format: `enemy_id:count|enemy_id:count`
- `templates_enabled / allow_elites / allow_pincer`: `1` = true, `0` = false.

### Integration Rule

- Code should treat these CSV files as the source of truth for pacing/composition.
- Avoid hard-coding tier weights or template logic in runtime scripts.
